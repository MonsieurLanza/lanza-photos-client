webpackJsonp([1,0],[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(14),i=r(o),a=n(9),s=r(a),u=n(2),c=r(u),l="http://localhost:9104",d=l+"/apps/lanza-photos",p=150,f=new i.default({el:"#app",template:'<App :photos="photos" />',components:{App:s.default},data:{photos:[]}}),h=new Headers;h.append("Accept","application/json");var g={method:"GET",headers:h,mode:"cors",cache:"default",credentials:"include"};fetch(d+"/",g).then(function(t){t.json().then(function(t){f.photos=t,i.default.nextTick(function(){new c.default({selector:".photolist",container:".photo",rowHeight:p})})})})},function(t,e,n){var r,o;n(6),r=n(5);var i=n(11);o=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(o=r=r.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,t.exports=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t){function e(t,n,r,o){function i(t){r.maxRows&&d>r.maxRows||r.truncate&&t&&d>1?f[a][0].style.display="none":(f[a][4]&&(f[a][3].setAttribute("src",f[a][4]),f[a][4]=""),f[a][0].style.width=s+"px",f[a][0].style.height=g+"px",f[a][0].style.display="block")}for(var a,s,u,c,l=1,d=1,p=t.clientWidth-2,f=[],h=0,g=r.rowHeight,m=0;m<n.length;m++)if(f.push(n[m]),h+=n[m][2]+r.margin,h>=p){var w=f.length*r.margin;for(l=(p-w)/(h-w),g=Math.ceil(r.rowHeight*l),u=0,s,a=0;a<f.length;a++)s=Math.ceil(f[a][2]*l),u+=s+r.margin,u>p&&(s-=u-p),i();f=[],h=0,d++}for(a=0;a<f.length;a++)s=Math.floor(f[a][2]*l),c=Math.floor(r.rowHeight*l),i(!0);o||p==t.clientWidth||e(t,n,r,!0)}function n(t,n){var o=t,i=n;this.eventHandler=function(){e(o,i,r)}}if(document.querySelector){var r={selector:0,container:".item",object:"img",rowHeight:180,maxRows:0,truncate:0};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);for(var i=r.selector instanceof Object?[r.selector]:document.querySelectorAll(r.selector),a=0;a<i.length;a++){var s=i[a],u=s.querySelectorAll(r.container),c=[],l=(new Date).getTime();if(u.length){var d=window.getComputedStyle?getComputedStyle(u[0],null):u[0].currentStyle;r.margin=(parseInt(d.marginLeft)||0)+(parseInt(d.marginRight)||0)+(Math.round(parseFloat(d.borderLeftWidth))||0)+(Math.round(parseFloat(d.borderRightWidth))||0);for(var p=0;p<u.length;p++){var f=u[p],h=parseInt(f.getAttribute("data-w")),g=h*(r.rowHeight/parseInt(f.getAttribute("data-h"))),m=f.querySelector(r.object);c.push([f,h,g,m,m.getAttribute("data-src")])}e(s,c,r);var w=new n(s,c).eventHandler;document.addEventListener?(window["flexImages_listener"+l]=w,window.removeEventListener("resize",window["flexImages_listener"+s.getAttribute("data-flex-t")]),delete window["flexImages_listener"+s.getAttribute("data-flex-t")],window.addEventListener("resize",window["flexImages_listener"+l])):s.onresize=w,s.setAttribute("data-flex-t",l)}}}}return t}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(10),s=r(a);e.default={name:"app",props:["photos"],components:{gallery:s.default,thumb:i.default},computed:{periods:function(){var t=[],e="",n={};for(var r in this.photos){var o=this.photos[r],i=o.date.substring(0,4);i!==e?(e=i,t.push({year:e,photos:[o]}),n=t[t.length-1]):n.photos.push(o)}return t}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o);e.default={name:"gallery",components:{thumb:i.default},props:["period"]}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"thumb",props:["photo"],computed:{thumbsrc:function(){return"photos/"+this.photo.id+"/thumb.jpg"},src:function(){return"photos/"+this.photo.id+"/raw.jpg"},width:function(){return this.photo.size.raw.width},height:function(){return this.photo.size.raw.height},klass:function(){return"photo"+(this.height>this.width?" vertical":"")}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){var r,o;n(8),r=n(3);var i=n(13);o=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(o=r=r.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,t.exports=r},function(t,e,n){var r,o;n(7),r=n(4);var i=n(12);o=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(o=r=r.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,t.exports=r},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return e("li",{class:t.klass,attrs:{"data-w":t.width,"data-h":t.height}},[e("a",{attrs:{href:t.src,"data-big":t.src}},[e("img",{attrs:{src:"static/logo.png","data-src":t.thumbsrc,alt:t.photo.title}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return e("section",{staticClass:"photo-view"},[e("h2",[t._s(t.period.year)])," ",e("ul",{staticClass:"photolist"},[t._l(t.period.photos,function(t){return e("thumb",{attrs:{photo:t}})})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return e("div",{attrs:{id:"app"}},[t._l(t.periods,function(t){return e("gallery",{attrs:{period:t}})})])},staticRenderFns:[]}}]);
//# sourceMappingURL=app.7fdfc80fe8bd2109ecde.js.map