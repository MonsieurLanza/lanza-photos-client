{"version":3,"sources":["webpack:///static/js/app.7fdfc80fe8bd2109ecde.js","webpack:///./src/main.js","webpack:///./src/components/thumb.vue","webpack:///./src/assets/flexImages.js","webpack:///App.vue","webpack:///gallery.vue","webpack:///thumb.vue","webpack:///./src/App.vue","webpack:///./src/components/gallery.vue","webpack:///./src/components/thumb.vue?7fac","webpack:///./src/components/gallery.vue?f1b9","webpack:///./src/App.vue?8da1"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","_flexImages","_flexImages2","appRoot","fullURL","rowHeight","vm","el","template","components","App","data","photos","headers","Headers","append","request","method","mode","cache","credentials","fetch","then","response","json","nextTick","selector","container","__vue_exports__","__vue_options__","__vue_template__","options","render","staticRenderFns","Object","defineProperty","value","flexImages","makeGrid","grid","items","o","noresize","_helper","lastRow","maxRows","rows","truncate","row","x","style","display","setAttribute","width","new_w","height","row_h","exact_w","h","ratio","max_w","clientWidth","row_width","i","length","push","margin","margins_in_row","Math","ceil","floor","_makeTempf","currentGrid","currentItems","this","eventHandler","document","querySelector","object","k","hasOwnProperty","grids","querySelectorAll","containers","t","Date","getTime","s","window","getComputedStyle","currentStyle","parseInt","marginLeft","marginRight","round","parseFloat","borderLeftWidth","borderRightWidth","j","c","w","getAttribute","norm_w","tempf","addEventListener","removeEventListener","onresize","_thumb","_thumb2","_gallery","_gallery2","name","props","gallery","thumb","computed","periods","years","curYr","lastYr","photo","tmpYr","date","substring","year","thumbsrc","id","src","size","raw","klass","_vm","_h","$createElement","class","attrs","data-w","data-h","href","data-big","data-src","alt","title","staticClass","_s","period","_l","item"],"mappings":"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","file":"static/js/app.7fdfc80fe8bd2109ecde.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(14);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(9);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _flexImages = __webpack_require__(2);\n\t\n\tvar _flexImages2 = _interopRequireDefault(_flexImages);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar appRoot = 'http://localhost:9104';\n\tvar fullURL = appRoot + '/apps/lanza-photos';\n\t\n\tvar rowHeight = 150;\n\t\n\tvar vm = new _vue2.default({\n\t  el: '#app',\n\t  template: '<App :photos=\"photos\" />',\n\t  components: { App: _App2.default },\n\t  data: {\n\t    photos: []\n\t  }\n\t});\n\t\n\tvar headers = new Headers();\n\theaders.append('Accept', 'application/json');\n\tvar request = {\n\t  method: 'GET',\n\t  headers: headers,\n\t  mode: 'cors',\n\t  cache: 'default',\n\t  credentials: 'include'\n\t};\n\t\n\tfetch(fullURL + '/', request).then(function (response) {\n\t  response.json().then(function (json) {\n\t    vm.photos = json;\n\t    _vue2.default.nextTick(function () {\n\t      new _flexImages2.default({ selector: '.photolist', container: '.photo', rowHeight: rowHeight });\n\t    });\n\t  });\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(6)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(5)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(11)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function () {\n\t    function flexImages(options) {\n\t        if (!document.querySelector) return;\n\t\n\t        function makeGrid(grid, items, o, noresize) {\n\t            var x,\n\t                new_w,\n\t                exact_w,\n\t                ratio = 1,\n\t                rows = 1,\n\t                max_w = grid.clientWidth - 2,\n\t                row = [],\n\t                row_width = 0,\n\t                h,\n\t                row_h = o.rowHeight;\n\t\n\t            function _helper(lastRow) {\n\t                if (o.maxRows && rows > o.maxRows || o.truncate && lastRow && rows > 1) row[x][0].style.display = 'none';else {\n\t                    if (row[x][4]) {\n\t                        row[x][3].setAttribute('src', row[x][4]);row[x][4] = '';\n\t                    }\n\t                    row[x][0].style.width = new_w + 'px';\n\t                    row[x][0].style.height = row_h + 'px';\n\t                    row[x][0].style.display = 'block';\n\t                }\n\t            }\n\t\n\t            for (var i = 0; i < items.length; i++) {\n\t                row.push(items[i]);\n\t                row_width += items[i][2] + o.margin;\n\t                if (row_width >= max_w) {\n\t                    var margins_in_row = row.length * o.margin;\n\t                    ratio = (max_w - margins_in_row) / (row_width - margins_in_row), row_h = Math.ceil(o.rowHeight * ratio), exact_w = 0, new_w;\n\t                    for (x = 0; x < row.length; x++) {\n\t                        new_w = Math.ceil(row[x][2] * ratio);\n\t                        exact_w += new_w + o.margin;\n\t                        if (exact_w > max_w) new_w -= exact_w - max_w;\n\t                        _helper();\n\t                    }\n\t\n\t                    row = [], row_width = 0;\n\t                    rows++;\n\t                }\n\t            }\n\t\n\t            for (x = 0; x < row.length; x++) {\n\t                new_w = Math.floor(row[x][2] * ratio), h = Math.floor(o.rowHeight * ratio);\n\t                _helper(true);\n\t            }\n\t\n\t            if (!noresize && max_w != grid.clientWidth) makeGrid(grid, items, o, true);\n\t        }\n\t\n\t        var o = { selector: 0, container: '.item', object: 'img', rowHeight: 180, maxRows: 0, truncate: 0 };\n\t        for (var k in options) {\n\t            if (options.hasOwnProperty(k)) o[k] = options[k];\n\t        }\n\t        var grids = o.selector instanceof Object ? [o.selector] : document.querySelectorAll(o.selector);\n\t\n\t        function _makeTempf(currentGrid, currentItems) {\n\t            var grid = currentGrid;\n\t            var items = currentItems;\n\t            this.eventHandler = function () {\n\t                makeGrid(grid, items, o);\n\t            };\n\t        }\n\t\n\t        for (var i = 0; i < grids.length; i++) {\n\t            var grid = grids[i],\n\t                containers = grid.querySelectorAll(o.container),\n\t                items = [],\n\t                t = new Date().getTime();\n\t            if (!containers.length) continue;\n\t            var s = window.getComputedStyle ? getComputedStyle(containers[0], null) : containers[0].currentStyle;\n\t            o.margin = (parseInt(s.marginLeft) || 0) + (parseInt(s.marginRight) || 0) + (Math.round(parseFloat(s.borderLeftWidth)) || 0) + (Math.round(parseFloat(s.borderRightWidth)) || 0);\n\t            for (var j = 0; j < containers.length; j++) {\n\t                var c = containers[j],\n\t                    w = parseInt(c.getAttribute('data-w')),\n\t                    norm_w = w * (o.rowHeight / parseInt(c.getAttribute('data-h'))),\n\t                    obj = c.querySelector(o.object);\n\t                items.push([c, w, norm_w, obj, obj.getAttribute('data-src')]);\n\t            }\n\t            makeGrid(grid, items, o);\n\t            var tempf = new _makeTempf(grid, items).eventHandler;\n\t            if (document.addEventListener) {\n\t                window['flexImages_listener' + t] = tempf;\n\t                window.removeEventListener('resize', window['flexImages_listener' + grid.getAttribute('data-flex-t')]);\n\t                delete window['flexImages_listener' + grid.getAttribute('data-flex-t')];\n\t                window.addEventListener('resize', window['flexImages_listener' + t]);\n\t            } else grid.onresize = tempf;\n\t            grid.setAttribute('data-flex-t', t);\n\t        }\n\t    }\n\t    return flexImages;\n\t}();\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _thumb = __webpack_require__(1);\n\t\n\tvar _thumb2 = _interopRequireDefault(_thumb);\n\t\n\tvar _gallery = __webpack_require__(10);\n\t\n\tvar _gallery2 = _interopRequireDefault(_gallery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'app',\n\t  props: ['photos'],\n\t  components: {\n\t    gallery: _gallery2.default, thumb: _thumb2.default\n\t  },\n\t  computed: {\n\t    periods: function periods() {\n\t      var years = [];\n\t      var curYr = '';\n\t      var lastYr = {};\n\t      for (var i in this.photos) {\n\t        var photo = this.photos[i];\n\t        var tmpYr = photo.date.substring(0, 4);\n\t        if (tmpYr !== curYr) {\n\t          curYr = tmpYr;\n\t          years.push({ year: curYr, photos: [photo] });\n\t          lastYr = years[years.length - 1];\n\t        } else {\n\t          lastYr.photos.push(photo);\n\t        }\n\t      }\n\t      return years;\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _thumb = __webpack_require__(1);\n\t\n\tvar _thumb2 = _interopRequireDefault(_thumb);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'gallery',\n\t  components: { thumb: _thumb2.default },\n\t  props: ['period']\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'thumb',\n\t  props: ['photo'],\n\t  computed: {\n\t    thumbsrc: function thumbsrc() {\n\t      return 'photos/' + this.photo.id + '/thumb.jpg';\n\t    },\n\t    src: function src() {\n\t      return 'photos/' + this.photo.id + '/raw.jpg';\n\t    },\n\t    width: function width() {\n\t      return this.photo.size.raw.width;\n\t    },\n\t    height: function height() {\n\t      return this.photo.size.raw.height;\n\t    },\n\t    klass: function klass() {\n\t      return 'photo' + (this.height > this.width ? ' vertical' : '');\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(8)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(3)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(13)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(7)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(4)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(12)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _h('li', {\n\t    class: _vm.klass,\n\t    attrs: {\n\t      \"data-w\": _vm.width,\n\t      \"data-h\": _vm.height\n\t    }\n\t  }, [_h('a', {\n\t    attrs: {\n\t      \"href\": _vm.src,\n\t      \"data-big\": _vm.src\n\t    }\n\t  }, [_h('img', {\n\t    attrs: {\n\t      \"src\": \"static/logo.png\",\n\t      \"data-src\": _vm.thumbsrc,\n\t      \"alt\": _vm.photo.title\n\t    }\n\t  })])])\n\t},staticRenderFns: []}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _h('section', {\n\t    staticClass: \"photo-view\"\n\t  }, [_h('h2', [_vm._s(_vm.period.year)]), \" \", _h('ul', {\n\t    staticClass: \"photolist\"\n\t  }, [_vm._l((_vm.period.photos), function(item) {\n\t    return _h('thumb', {\n\t      attrs: {\n\t        \"photo\": item\n\t      }\n\t    })\n\t  })])])\n\t},staticRenderFns: []}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _h('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_vm._l((_vm.periods), function(item) {\n\t    return _h('gallery', {\n\t      attrs: {\n\t        \"period\": item\n\t      }\n\t    })\n\t  })])\n\t},staticRenderFns: []}\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.7fdfc80fe8bd2109ecde.js","/* eslint-env browser */\n\nimport Vue from 'vue';\nimport App from './App';\nimport flexImages from './assets/flexImages';\n\n// const pathToApp = '/' + window.location.pathname.substring(1);\nconst appRoot = 'http://localhost:9104';\nconst fullURL = appRoot + '/apps/lanza-photos';\n\nlet rowHeight = 150;\n\nlet vm = new Vue({\n  el: '#app',\n  template: '<App :photos=\"photos\" />',\n  components: { App },\n  data: {\n    photos: []\n  }\n});\n\nvar headers = new Headers();\nheaders.append('Accept', 'application/json');\nvar request = {\n  method: 'GET',\n  headers: headers,\n  mode: 'cors',\n  cache: 'default',\n  credentials: 'include'\n};\n\nfetch(fullURL + '/', request).then(function (response) {\n  response.json().then(function (json) {\n    vm.photos = json;\n    Vue.nextTick(function () {\n      /* eslint new-cap: [\"error\", { \"newIsCapExceptions\": [\"flexImages\"] }] no-new: 0 */\n      new flexImages({selector: '.photolist', container: '.photo', rowHeight: rowHeight});\n    });\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-2310bcce!vue-loader/lib/selector?type=styles&index=0!./thumb.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./thumb.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-2310bcce!vue-loader/lib/selector?type=template&index=0!./thumb.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/thumb.vue\n// module id = 1\n// module chunks = 1","/*\n    JavaScript flexImages v1.0.2\n    Copyright (c) 2014 Simon Steinberger / Pixabay\n    GitHub: https://github.com/Pixabay/JavaScript-flexImages\n    License: http://www.opensource.org/licenses/mit-license.php\n*/\n\n/* eslint-disable */\nexport default (function(){\n    // \"use strict\";\n    function flexImages(options){\n        if (!document.querySelector) return;\n\n        function makeGrid(grid, items, o, noresize){\n            var x, new_w, exact_w, ratio = 1, rows = 1, max_w = grid.clientWidth-2, row = [], row_width = 0, h, row_h = o.rowHeight;\n\n            // define inside makeGrid to access variables in scope\n            function _helper(lastRow){\n                if (o.maxRows && rows > o.maxRows || o.truncate && lastRow && rows > 1) row[x][0].style.display = 'none';\n                else {\n                    if (row[x][4]) { row[x][3].setAttribute('src', row[x][4]); row[x][4] = ''; }\n                    row[x][0].style.width = new_w+'px';\n                    row[x][0].style.height = row_h+'px';\n                    row[x][0].style.display = 'block';\n                }\n            }\n\n            for (var i=0; i<items.length; i++) {\n                row.push(items[i]);\n                row_width += items[i][2] + o.margin;\n                if (row_width >= max_w) {\n                    var margins_in_row = row.length * o.margin;\n                    ratio = (max_w-margins_in_row) / (row_width-margins_in_row), row_h = Math.ceil(o.rowHeight*ratio), exact_w = 0, new_w;\n                    for (x=0; x<row.length; x++) {\n                        new_w = Math.ceil(row[x][2]*ratio);\n                        exact_w += new_w + o.margin;\n                        if (exact_w > max_w) new_w -= exact_w - max_w;\n                        _helper();\n                    }\n                    // reset for next row\n                    row = [], row_width = 0;\n                    rows++;\n                }\n            }\n            // layout last row - match height of last row to previous row\n            for (x=0; x<row.length; x++) {\n                new_w = Math.floor(row[x][2]*ratio), h = Math.floor(o.rowHeight*ratio);\n                _helper(true);\n            }\n\n            // scroll bars added or removed during rendering new layout?\n            if (!noresize && max_w != grid.clientWidth) makeGrid(grid, items, o, true);\n        }\n\n        var o = { selector: 0, container: '.item', object: 'img', rowHeight: 180, maxRows: 0, truncate: 0 };\n        for (var k in options) { if (options.hasOwnProperty(k)) o[k] = options[k]; }\n        var grids = o.selector instanceof Object ? [o.selector] : document.querySelectorAll(o.selector);\n\n        function _makeTempf(currentGrid, currentItems) {\n            var grid = currentGrid;\n            var items = currentItems;\n            this.eventHandler = function() { makeGrid(grid, items, o); }\n        }\n\n        for (var i=0;i<grids.length;i++) {\n            var grid = grids[i], containers = grid.querySelectorAll(o.container), items = [], t = new Date().getTime();\n            if (!containers.length) continue;\n            var s = window.getComputedStyle ? getComputedStyle(containers[0], null) : containers[0].currentStyle;\n            o.margin = (parseInt(s.marginLeft) || 0) + (parseInt(s.marginRight) || 0) + (Math.round(parseFloat(s.borderLeftWidth)) || 0) + (Math.round(parseFloat(s.borderRightWidth)) || 0);\n            for (var j=0;j<containers.length;j++) {\n                var c = containers[j],\n                    w = parseInt(c.getAttribute('data-w')),\n                    norm_w = w*(o.rowHeight/parseInt(c.getAttribute('data-h'))), // normalized width\n                    obj = c.querySelector(o.object);\n                items.push([c, w, norm_w, obj, obj.getAttribute('data-src')]);\n            }\n            makeGrid(grid, items, o);\n            var tempf = new _makeTempf(grid, items).eventHandler;\n            if (document.addEventListener) {\n                window['flexImages_listener'+t] = tempf;\n                window.removeEventListener('resize', window['flexImages_listener'+grid.getAttribute('data-flex-t')]);\n                delete window['flexImages_listener'+grid.getAttribute('data-flex-t')];\n                window.addEventListener('resize', window['flexImages_listener'+t]);\n            } else\n                grid.onresize = tempf;\n            grid.setAttribute('data-flex-t', t)\n        }\n    }\n    return flexImages;\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/flexImages.js","<template>\n  <div id=\"app\">\n    <gallery v-for=\"item in periods\" :period=\"item\"></gallery>\n  </div>\n</template>\n\n<script>\nimport thumb from './components/thumb';\nimport gallery from './components/gallery';\n\nexport default {\n  name: 'app',\n  props: ['photos'],\n  components: {\n    gallery, thumb\n  },\n  computed: {\n    periods: function () {\n      let years = [];\n      let curYr = '';\n      let lastYr = {};\n      for (let i in this.photos) {\n        let photo = this.photos[i];\n        let tmpYr = photo.date.substring(0, 4);\n        if (tmpYr !== curYr) {\n          curYr = tmpYr;\n          years.push({ year: curYr, photos: [photo] });\n          lastYr = years[years.length - 1];\n        } else {\n          lastYr.photos.push(photo);\n        }\n      }\n      return years;\n    }\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?565d081b","<template>\n  <section class=\"photo-view\">\n    <h2>{{ period.year }}</h2>\n    <ul class=\"photolist\">\n        <thumb v-for=\"item in period.photos\" :photo=\"item\"></thumb>\n    </ul>\n  </section>\n</template>\n\n<script>\nimport thumb from './thumb';\n\nexport default {\n  name: 'gallery',\n  components: { thumb },\n  props: ['period']\n};\n</script>\n\n<style lang=\"scss\">\n.photo-view {\n  padding: 1px 3rem;\n  clear: both;\n}\n\nul.photolist, ul.photolist > li {\n  margin: 0;\n  padding: 0;\n}\n\nul.photolist {\n  li {\n    list-style-type: none;\n    transition: transform 0.1s;\n    position: relative;\n  }\n\n  button {\n    position: absolute;\n    right: 2px;\n    top: 2px;\n    z-index: 100;\n    display: none;\n  }\n\n  li:hover {\n      //overflow: visible;\n\n      button {\n          display: block;\n      }\n  }\n\n  li:hover {\n    transform: scale(1.5);\n    outline: 4px solid #6AF;\n    z-index: 3;\n    box-shadow: 0 10px 20px #222;\n\n    &.vertical {\n      transform: scale(2);\n      outline: 3px solid #6AF;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// gallery.vue?d900af6e","<template>\n    <li :class=\"klass\" :data-w=\"width\" :data-h=\"height\">\n        <a :href=\"src\" :data-big=\"src\">\n            <img src=\"static/logo.png\" :data-src=\"thumbsrc\" :alt=\"photo.title\" >\n        </a>\n    </li>\n</template>\n\n<script>\nexport default {\n  name: 'thumb',\n  props: ['photo'],\n  computed: {\n    thumbsrc: function () { return `photos/${this.photo.id}/thumb.jpg`; },\n    src: function () { return `photos/${this.photo.id}/raw.jpg`; },\n    width: function () { return this.photo.size.raw.width; },\n    height: function () { return this.photo.size.raw.height; },\n    klass: function () {\n      return `photo${this.height > this.width ? ' vertical' : ''}`;\n    }\n  }\n};\n</script>\n<style>\n.photolist .photo {\n  float: left;\n  margin: 3px;\n  box-sizing: content-box;\n  overflow: hidden;\n  position: relative; }\n\n.photolist .photo img {\n  display: block;\n  width: auto;\n  height: 100%; }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// thumb.vue?3691926f","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-ddd42f40!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-ddd42f40!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 9\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-4e99e76c!sass-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./gallery.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./gallery.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-4e99e76c!vue-loader/lib/selector?type=template&index=0!./gallery.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/gallery.vue\n// module id = 10\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _h('li', {\n    class: _vm.klass,\n    attrs: {\n      \"data-w\": _vm.width,\n      \"data-h\": _vm.height\n    }\n  }, [_h('a', {\n    attrs: {\n      \"href\": _vm.src,\n      \"data-big\": _vm.src\n    }\n  }, [_h('img', {\n    attrs: {\n      \"src\": \"static/logo.png\",\n      \"data-src\": _vm.thumbsrc,\n      \"alt\": _vm.photo.title\n    }\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-2310bcce!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/thumb.vue\n// module id = 11\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _h('section', {\n    staticClass: \"photo-view\"\n  }, [_h('h2', [_vm._s(_vm.period.year)]), \" \", _h('ul', {\n    staticClass: \"photolist\"\n  }, [_vm._l((_vm.period.photos), function(item) {\n    return _h('thumb', {\n      attrs: {\n        \"photo\": item\n      }\n    })\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-4e99e76c!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/gallery.vue\n// module id = 12\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _h('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_vm._l((_vm.periods), function(item) {\n    return _h('gallery', {\n      attrs: {\n        \"period\": item\n      }\n    })\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-ddd42f40!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 13\n// module chunks = 1"],"sourceRoot":""}